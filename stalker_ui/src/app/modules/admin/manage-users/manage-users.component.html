<div fxLayout="row" fxLayoutAlign="center">
    <mat-card fxFlex="90" class="container">
        <h1>Users</h1>
        <!-- <div class="button-container" fxLayout="row">
            <div fxLayoutAlign="flex-start" fxFlex="50"> -->
                <button mat-raised-button color="primary" class="left-action-button" routerLinkActive="list-item-active" routerLink="/admin/users/create">
                    <mat-icon class="material-icons-outlined">
                        person_add_alt
                    </mat-icon>
                    New User
                </button>
            <!-- </div>
            <div fxLayoutAlign="flex-end" fxFlex="50"> -->
                <!-- <button mat-raised-button color="warn" class="right-action-button" > -->
                <button mat-raised-button color="warn" class="left-action-button" (click)="deleteUsers()">
                    <mat-icon class="material-icons-outlined">
                        delete_outline
                    </mat-icon>
                    Delete
                </button>
            <!-- </div>
        </div> -->
        
        <div class="mat-elevation-z3">
            <table mat-table [dataSource]="dataSource" matSort (matSortChange)="announceSortChange($event)">

                <!-- Checkbox Column -->
                <ng-container matColumnDef="select">
                <th mat-header-cell *matHeaderCellDef>
                    <mat-checkbox (change)="$event ? masterToggle() : null"
                                [checked]="selection.hasValue() && isAllSelected()"
                                [indeterminate]="selection.hasValue() && !isAllSelected()"
                                [aria-label]="checkboxLabel()">
                    </mat-checkbox>    
                </th>
                <td mat-cell *matCellDef="let row" (click)="$event.stopPropagation()" class="check-box-cell">
                    <mat-checkbox (click)="$event.stopPropagation()"
                                (change)="$event ? selection.toggle(row) : null"
                                [checked]="selection.isSelected(row)"
                                [aria-label]="checkboxLabel(row)">
                    </mat-checkbox>
                </td>
                </ng-container>
            
                <!-- ID Column -->
                <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by ID">
                        ID
                    </th>
                    <td mat-cell *matCellDef="let element"> {{element.id}} </td>
                </ng-container>
            
                <!-- Fist Name Column -->
                <ng-container matColumnDef="firstName">
                    <th mat-header-cell *matHeaderCellDef> First Name </th>
                    <td mat-cell *matCellDef="let element"> {{element.firstName}} </td>
                </ng-container>

                <!-- Last Name Column -->
                <ng-container matColumnDef="lastName">
                    <th mat-header-cell *matHeaderCellDef> Last Name </th>
                    <td mat-cell *matCellDef="let element"> {{element.lastName}} </td>
                </ng-container>
            
                <!-- Email Column -->
                <ng-container matColumnDef="email">
                    <th mat-header-cell *matHeaderCellDef> Email </th>
                    <td mat-cell *matCellDef="let element"> {{element.email}} </td>
                </ng-container>
            
                <!-- Role Column -->
                <ng-container matColumnDef="role">
                    <th mat-header-cell *matHeaderCellDef> Role </th>
                    <td mat-cell *matCellDef="let element"> {{element.role}} </td>
                </ng-container>

                <!-- Active Status Column -->
                <ng-container matColumnDef="active">
                    <th mat-header-cell *matHeaderCellDef class="center-column-content"> Active </th>
                    <td mat-cell *matCellDef="let element" class="center-column-content">
                        <mat-icon *ngIf="element.active" class="material-icons-outlined" matTooltip="User is active">
                            how_to_reg
                        </mat-icon>
                        <mat-icon *ngIf="!element.active" class="material-icons-outlined" matTooltip="User is blocked">
                            block
                        </mat-icon>                        
                    </td>
                </ng-container>
            
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"
                    routerLinkActive="list-item-active" [routerLink]="['/admin/users/', row.id]"
                    class="rows">
                </tr>
            </table>
            
            <mat-paginator  [length]="100"
                [pageSize]="10"
                [pageSizeOptions]="[5, 10, 25, 100]"
                showFirstLastButtons
                aria-label="Select page">
            </mat-paginator>
        </div>
    </mat-card>
</div>