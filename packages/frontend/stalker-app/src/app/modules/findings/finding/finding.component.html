<h3 class="tw-flex">
  <span class="tw-flex-1">{{ finding?.name }}</span
  ><button mat-icon-button (click)="copyJsonToClipboard()">
    <mat-icon
      i18n-matTooltip="Copy raw finding to clipboard|Copy raw finding to clipboard"
      matTooltip="Copy raw finding to clipboard"
      >content_copy</mat-icon
    >
  </button>
</h3>

<div>
  @for (field of finding?.fields; track field) {
    <div class="field">
      @switch (field.type) {
        @case ('image') {
          <div class="image-container">
            <image-finding-field [data]="field"></image-finding-field>
          </div>
        }
        @case ('text') {
          <text-finding-field [data]="field"></text-finding-field>
        }
      }
    </div>
  }
</div>

<span class="date" [matTooltip]="(finding?.created | date: 'medium') || ''">{{ finding?.created | timeAgo }}</span>
